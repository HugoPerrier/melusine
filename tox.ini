[tox]
requires =
    tox>=4
env_list = core38, core310, transformers
;env_list = transformers

[gh-actions]
python =
  3.8: core38, transformers
  3.10: core310

[core]
description = run unit tests
deps =
    pytest>=7
commands = pytest tests

[testenv:core38]
deps={[core]deps}
commands={[core]commands}

[testenv:core310]
deps={[core]deps}
commands={[core]commands}

;[testenv:deps]
;description = run unit tests for optional dependency factory
;deps =
;    pytest>=7
;commands = pytest tests/factory
;extras = misc

[testenv:transformers]
description = run unit tests with the transformers dependency
deps =
    pytest>=7
commands = pytest tests/huggingface
extras = transformers
